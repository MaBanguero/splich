{% extends "base.html" %}
{% block content %}
<h1>Segment Video</h1>
<form action="{{ url_for('video.segment') }}" method="post" enctype="multipart/form-data">
    <input type="file" name="video" accept="video/*" required>
    <input type="number" name="duration" placeholder="Segment Duration (seconds)" required>
    <input type="submit" value="Upload and Segment">
</form>
{% if segments %}
    <h2>Segments</h2>
    <ul>
        {% for segment in segments %}
            <li><a href="{{ url_for('video.download', folder='segments', filename=segment) }}">{{ segment }}</a></li>
        {% endfor %}
    </ul>
{% endif %}
<button id="downloadAllBtn">Download All</button>
<script>
document.getElementById('downloadAllBtn').addEventListener('click', function() {
    window.location.href = '';
});
</script>
{% endblock %}
